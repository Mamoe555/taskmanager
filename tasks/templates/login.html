{% extends "base.html" %}
{% block content %}
  <h2>Login</h2>

  {% if messages %}
    <ul class="messages">
      {% for m in messages %}
        <li class="{{ m.tags }}">{{ m }}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <form method="post" action="{% url 'login' %}">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div>
      <label for="{{ form.username.id_for_label }}">Username</label><br>
      {{ form.username }}
    </div>
    <div>
      <label for="{{ form.password.id_for_label }}">Password</label><br>
      {{ form.password }}
    </div>

    <div style="margin-top:12px;">
      <!-- Normal login -->
      <button type="submit" name="action" value="login" class="btn">Login</button>

      <!-- Login as admin (same credentials but must be staff or in Admin group) -->
      <button type="submit" name="action" value="admin" class="btn">Login as Admin</button>
    </div>
  </form>

  <p style="margin-top:10px;">Don't have an account? <a href="{% url 'register' %}">Register here</a>.</p>
{% endblock %}
